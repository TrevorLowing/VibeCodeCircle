<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supabase Presentation & Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .tab-btn.active {
            background-color: #1e40af;
            color: white;
        }
        /* Presentation Slide Styles */
        .slide {
            display: none;
            height: 100%;
        }
        .slide.active {
            display: flex;
        }
        .narrator-notes {
            background-color: #1f2937;
            border: 1px solid #374151;
        }
        .non-tech-callout {
            background-color: #1e40af;
            border-left: 4px solid #3b82f6;
        }
        .supabase-green { color: #3ecf8e; }
        .slide-content {
            flex-grow: 1;
            overflow-y: auto;
        }
        .slide-content::-webkit-scrollbar { width: 8px; }
        .slide-content::-webkit-scrollbar-track { background: #1f2937; }
        .slide-content::-webkit-scrollbar-thumb { background-color: #4b5563; border-radius: 10px; border: 2px solid #1f2937; }
        
        /* Demo Styles */
        .hidden-step { display: none; }
        .new-row-animation { animation: fadeInHighlight 1.5s ease-out; }
        @keyframes fadeInHighlight {
            0% { background-color: rgba(62, 207, 142, 0.3); opacity: 0; transform: scale(0.95); }
            50% { background-color: rgba(62, 207, 142, 0.1); opacity: 1; transform: scale(1.02); }
            100% { background-color: transparent; transform: scale(1); }
        }
        .status-badge { padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.75rem; font-weight: 600; text-transform: capitalize; }
        .delete-btn {
            background-color: transparent;
            color: #9ca3af;
            border-radius: 9999px;
            padding: 0.25rem 0.5rem;
            transition: all 0.2s;
        }
        .delete-btn:hover {
            background-color: #ef4444;
            color: white;
        }
    </style>
</head>
<body class="text-gray-200">

    <div class="max-w-7xl mx-auto p-4">
        <!-- Tab Navigation -->
        <div class="mb-4 flex justify-center border-b border-gray-700">
            <button id="tab-presentation" class="tab-btn active text-lg font-semibold py-3 px-6 text-gray-400 border-b-2 border-transparent hover:bg-gray-800 hover:text-white transition-colors">
                <i class="fas fa-person-chalkboard mr-2"></i>Presentation
            </button>
            <button id="tab-demo" class="tab-btn text-lg font-semibold py-3 px-6 text-gray-400 border-b-2 border-transparent hover:bg-gray-800 hover:text-white transition-colors">
                <i class="fas fa-bolt-lightning mr-2"></i>Live Demo
            </button>
        </div>

        <!-- Tab Content -->
        <div id="content-presentation" class="tab-content active">
            <div class="flex flex-col" style="height: calc(100vh - 100px);">
                <div id="slide-container" class="flex-grow bg-gray-900 rounded-lg shadow-2xl overflow-hidden min-h-0"></div>
                <div class="flex-shrink-0">
                    <!-- Notes panel, hidden by default -->
                    <div id="narrator-notes-container" class="narrator-notes p-4 mt-4 rounded-lg shadow-lg hidden">
                        <h3 class="font-bold text-lg mb-2 text-supabase-green">Narrator Notes</h3>
                        <p id="notes" class="text-gray-300 text-sm max-h-24 overflow-y-auto">Loading notes...</p>
                    </div>

                    <!-- Control bar -->
                    <div class="flex items-center justify-between p-2 bg-gray-800 mt-4 rounded-lg">
                         <div class="text-sm text-gray-400 w-28"><span id="slide-counter"></span></div>
                        <div class="flex items-center space-x-4">
                            <button id="prev" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"><i class="fas fa-arrow-left mr-2"></i>Prev</button>
                            <button id="next" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed">Next<i class="fas fa-arrow-right ml-2"></i></button>
                        </div>
                        <div class="w-28 flex justify-end">
                             <button id="toggle-notes-btn" title="Toggle Narrator Notes" class="text-gray-400 hover:text-white transition-colors p-2 rounded-md">
                                <i class="fas fa-note-sticky text-xl"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="content-demo" class="tab-content">
            <!-- Demo HTML -->
            <div class="container mx-auto p-4 md:p-8">
                <div class="text-center mb-8">
                    <h1 class="text-4xl font-bold text-white">Live Supabase CRUD Demo</h1>
                    <p class="text-gray-400 mt-2">A three-step demo showing real-time Create, Read, Update, and Delete.</p>
                </div>
                <!-- Instructions -->
                <div id="step-1-instructions" class="bg-blue-900/50 border border-blue-700 text-blue-200 p-4 rounded-lg mb-8">
                    <h3 class="font-bold text-lg flex items-center"><span class="bg-blue-500 text-white rounded-full h-6 w-6 flex items-center justify-center mr-3 text-sm">1</span>Step 1: Create & Read Data</h3>
                    <p class="text-sm ml-9">Use the Admin Panel to add records. Notice they appear instantly in the viewer (Create/Read).</p>
                </div>
                <div id="step-2-instructions" class="bg-indigo-900/50 border border-indigo-700 text-indigo-200 p-4 rounded-lg mb-8 hidden-step">
                    <h3 class="font-bold text-lg flex items-center"><span class="bg-indigo-500 text-white rounded-full h-6 w-6 flex items-center justify-center mr-3 text-sm">2</span>Step 2: Update Schema</h3>
                    <p class="text-sm ml-9 mb-3">Run this SQL in your Supabase dashboard to add a `status` column. Then use the updated Admin Panel to add records with a status.</p>
                    <pre class="bg-gray-900 text-white p-3 rounded-md text-xs overflow-x-auto ml-9">ALTER TABLE prompts ADD COLUMN status TEXT DEFAULT 'new';</pre>
                </div>
                <div id="step-3-instructions" class="bg-red-900/50 border border-red-700 text-red-200 p-4 rounded-lg mb-8 hidden-step">
                    <h3 class="font-bold text-lg flex items-center"><span class="bg-red-500 text-white rounded-full h-6 w-6 flex items-center justify-center mr-3 text-sm">3</span>Step 3: Delete Data</h3>
                    <p class="text-sm ml-9 mb-3">To enable deletion, add this policy in your Supabase dashboard's <strong>Authentication > Policies</strong> section for the `prompts` table.</p>
                    <pre class="bg-gray-900 text-white p-3 rounded-md text-xs overflow-x-auto ml-9">CREATE POLICY "Anyone can delete a prompt." ON prompts FOR DELETE USING (true);</pre>
                    <p class="text-sm ml-9 mt-3">After adding the policy, click the trash icon on any row to delete it. The change will be reflected instantly.</p>
                </div>

                <div class="flex flex-col lg:flex-row gap-8">
                    <div class="lg:w-1/3 bg-gray-800 p-6 rounded-xl shadow-2xl border border-gray-700">
                        <h2 class="text-2xl font-bold text-white mb-4 flex items-center"><i class="fas fa-terminal mr-3 text-blue-400"></i>Demo Admin</h2>
                        <div class="space-y-4">
                            <div>
                                <label for="prompt-input" class="block text-sm font-medium text-gray-300 mb-1">Enter a Prompt:</label>
                                <textarea id="prompt-input" rows="3" class="w-full bg-gray-900 border border-gray-600 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" placeholder="e.g., Deploy to production..."></textarea>
                            </div>
                            <div id="status-container" class="hidden-step">
                                 <label for="status-select" class="block text-sm font-medium text-gray-300 mb-1">Status:</label>
                                 <select id="status-select" class="w-full bg-gray-900 border border-gray-600 rounded-lg p-3 text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition">
                                     <option value="new">New</option>
                                     <option value="in_progress">In Progress</option>
                                     <option value="completed">Completed</option>
                                 </select>
                            </div>
                            <button id="add-prompt-btn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg transition-all flex items-center justify-center disabled:opacity-50" disabled><i class="fas fa-paper-plane mr-2"></i>Add to Database</button>
                            <div id="status-message" class="text-center font-semibold opacity-0 transition-opacity duration-500 h-5"></div>
                        </div>
                         <div class="mt-6 border-t border-gray-700 pt-4 space-y-3">
                             <button id="promote-step-2-btn" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg transition-all flex items-center justify-center disabled:opacity-50" disabled><i class="fas fa-wand-magic-sparkles mr-2"></i>Activate Step 2: Update</button>
                             <button id="promote-step-3-btn" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg transition-all flex items-center justify-center disabled:opacity-50" disabled><i class="fas fa-trash-can mr-2"></i>Activate Step 3: Delete</button>
                         </div>
                    </div>
                    <div class="lg:w-2/3 bg-gray-800 rounded-xl shadow-2xl border border-gray-700 overflow-hidden">
                        <div class="p-6 border-b border-gray-700">
                            <h2 class="text-2xl font-bold text-white mb-1 flex items-center"><img src="https://supabase.com/docs/img/supabase-logo-icon.svg" class="h-6 w-6 mr-3" alt="Supabase Icon">Real-time Viewer</h2>
                            <p class="text-gray-400 text-sm">Listening for live database changes...</p>
                        </div>
                        <div class="w-full overflow-x-auto">
                            <table class="min-w-full text-sm text-left">
                                <thead class="bg-gray-700/50 text-xs text-gray-400 uppercase tracking-wider">
                                    <tr>
                                        <th scope="col" class="px-6 py-3 w-1/12">id</th>
                                        <th scope="col" class="px-6 py-3 w-5/12">prompt_text</th>
                                        <th id="status-header" scope="col" class="px-6 py-3 w-2/12 hidden-step">status</th>
                                        <th scope="col" class="px-6 py-3 w-3/12">created_at</th>
                                        <th id="actions-header" scope="col" class="px-6 py-3 w-1/12 hidden-step">Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="prompts-table-body" class="bg-gray-800">
                                   <tr id="loading-state">
                                       <td colspan="5" class="text-center p-8 text-gray-500"><i class="fas fa-spinner fa-spin mr-2"></i> Waiting for Supabase credentials...</td>
                                   </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="module">
        import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

        // --- GLOBAL APP SETUP ---
        const tabPresentation = document.getElementById('tab-presentation');
        const tabDemo = document.getElementById('tab-demo');
        const contentPresentation = document.getElementById('content-presentation');
        const contentDemo = document.getElementById('content-demo');

        function showTab(tabName) {
            if (tabName === 'presentation') {
                contentPresentation.classList.add('active');
                contentDemo.classList.remove('active');
                tabPresentation.classList.add('active');
                tabDemo.classList.remove('active');
            } else {
                contentPresentation.classList.remove('active');
                contentDemo.classList.add('active');
                tabPresentation.classList.remove('active');
                tabDemo.classList.add('active');
            }
        }

        tabPresentation.addEventListener('click', () => showTab('presentation'));
        tabDemo.addEventListener('click', () => showTab('demo'));
        
        // --- PRESENTATION LOGIC ---
        const slides = [
            { content: `<div class="w-full h-full bg-gray-900 flex flex-col justify-center items-center p-8 text-center"><img src="https://supabase.com/docs/img/supabase-logo-wordmark--dark.svg" alt="Supabase Logo" class="w-72 mb-8"><h1 class="text-5xl font-bold text-white mb-4">The Open-Source Firebase Alternative</h1><p class="text-2xl text-gray-400">A Presentation for the Vibe Coding Meetup</p><div class="mt-12"><i class="fas fa-users text-7xl text-blue-400"></i></div></div>`, notes: `Welcome everyone to the Vibe Coding Meetup! Tonight, we're going to talk about a tool that's been making waves in the developer community: Supabase. My goal is to give you a clear understanding of what it is, why it's useful, and how you can start using it in your own projects, even if you're just starting out.` },
            { content: `<div class="w-full h-full bg-gray-900 flex flex-col p-8 slide-content"><h2 class="text-3xl font-bold mb-6 text-supabase-green">What is Supabase?</h2><p class="text-lg mb-6">Supabase is an open-source <strong class="text-white">Backend-as-a-Service (BaaS)</strong> platform. It provides developers with a suite of tools to build apps quickly without managing server infrastructure.</p><div class="non-tech-callout p-4 rounded-lg mb-6"><h4 class="font-bold text-white">In Plain Language:</h4><p class="text-gray-200">Think of it as the pre-built engine room for your app. Instead of building the database, user login system, and file storage from scratch, Supabase gives you all those pieces ready to go, so you can focus on the fun part: building the app itself.</p></div><div class="flex-grow flex items-center justify-center"><img src="https://placehold.co/800x450/1f2937/ffffff?text=App+Frontend+->+Supabase+Backend" alt="Supabase Architecture Diagram" class="max-w-full md:max-w-2xl rounded-lg shadow-xl"></div></div>`, notes: `At its core, Supabase is what we call a "Backend-as-a-Service". Traditionally, when you build an app, you need a frontend (what the user sees) and a backend (the server, database, and logic behind the scenes). Supabase handles the backend part for you. It's built on a foundation of powerful, open-source tools, most importantly PostgreSQL, which is a very robust and respected database technology.` },
            { content: `<div class="w-full h-full bg-gray-900 flex flex-col p-8 slide-content"><h2 class="text-3xl font-bold mb-6 text-supabase-green">A Brief History</h2><div class="space-y-6"><div class="flex items-start space-x-4"><div class="bg-blue-500 rounded-full h-8 w-8 flex items-center justify-center font-bold text-white mt-1">1</div><div><h4 class="font-bold text-white">Jan 2020: Founded</h4><p class="text-gray-400">Founded by Paul Copplestone and Ant Wilson. Started as a real-time engine for PostgreSQL after frustrations with Firebase.</p></div></div><div class="flex items-start space-x-4"><div class="bg-blue-500 rounded-full h-8 w-8 flex items-center justify-center font-bold text-white mt-1">2</div><div><h4 class="font-bold text-white">April 2020: The Pivot</h4><p class="text-gray-400">Pivoted marketing to "The Open-Source Firebase Alternative" and saw explosive growth on Hacker News.</p></div></div><div class="flex items-start space-x-4"><div class="bg-blue-500 rounded-full h-8 w-8 flex items-center justify-center font-bold text-white mt-1">3</div><div><h4 class="font-bold text-white">Summer 2020: Y Combinator</h4><p class="text-gray-400">Joined the prestigious Y Combinator S20 startup accelerator batch, gaining significant momentum.</p></div></div><div class="flex items-start space-x-4"><div class="bg-blue-500 rounded-full h-8 w-8 flex items-center justify-center font-bold text-white mt-1">4</div><div><h4 class="font-bold text-white">2021-2025: Growth & Funding</h4><p class="text-gray-400">Raised over $196M in funding, grew to over 1.7 million developers, and hosted over 1 million databases.</p></div></div></div></div>`, notes: `The story of Supabase is a great example of developers building tools for other developers. It started with a real problem: one of the founders, Paul, was building a chat app and found Firebase's real-time features to be limiting. So he built his own solution on top of PostgreSQL. When they shared it online, they realized many others had the same problem. The key moment was when they branded themselves as the open-source alternative to Firebase. That message resonated, and their growth took off.` },
            { content: `<div class="w-full h-full bg-gray-900 flex flex-col justify-center items-center p-8 text-center"><i class="fas fa-cogs text-7xl text-blue-400 mb-6"></i><h2 class="text-4xl font-bold text-white mb-4">Core Services</h2><p class="text-xl text-gray-400">Let's look at the key building blocks Supabase provides.</p></div>`, notes: `Now let's dive into the main features that Supabase offers. These are the tools you'll use to build your backend.` },
            { content: `<div class="w-full h-full bg-gray-900 flex flex-col lg:flex-row p-8 gap-8 slide-content"><div class="lg:w-1/2"><h3 class="text-2xl font-bold mb-4"><i class="fas fa-database mr-3 text-supabase-green"></i>Database Management</h3><p class="mb-4">Every project gets a full-featured <strong class="text-white">PostgreSQL</strong> database. This is a powerful, relational database trusted by major companies.</p><ul class="list-disc list-inside space-y-2 mb-6"><li>Visual Table Editor (like a spreadsheet)</li><li>Powerful SQL Editor for complex queries</li><li>50+ pre-configured extensions (like PostGIS for maps)</li><li>Automatic backups and recovery options</li></ul><div class="non-tech-callout p-4 rounded-lg"><h4 class="font-bold text-white">In Plain Language:</h4><p class="text-gray-200">It's like a collection of super-smart, interconnected spreadsheets for your app's data. It's organized and structured, which makes it very powerful and reliable.</p></div></div><div class="lg:w-1/2 flex items-center justify-center"><img src="https://placehold.co/600x400/1f2937/ffffff?text=Supabase+Visual+Table+Editor" alt="Supabase Table Editor" class="rounded-lg shadow-xl max-h-96"></div></div>`, notes: `The heart of Supabase is its database. Unlike Firebase which uses a NoSQL database, Supabase gives you a real, full-blown PostgreSQL database. This is a huge deal for developers who need the power of SQL for complex data relationships. For beginners, they provide a super intuitive, spreadsheet-like interface to view and edit your data, so you don't even need to know SQL to get started.` },
            { content: `<div class="w-full h-full bg-gray-900 flex flex-col lg:flex-row p-8 gap-8 slide-content"><div class="lg:w-1/2"><h3 class="text-2xl font-bold mb-4"><i class="fas fa-shield-alt mr-3 text-supabase-green"></i>Authentication System</h3><p class="mb-4">A complete, secure system for managing user sign-ups, logins, and access control.</p><ul class="list-disc list-inside space-y-2 mb-6"><li>Email/Password, Magic Links (passwordless)</li><li>Social Logins (Google, GitHub, Apple, etc.)</li><li>Multi-Factor Authentication (MFA)</li><li>Integrates with database for fine-grained security</li></ul><div class="non-tech-callout p-4 rounded-lg"><h4 class="font-bold text-white">In Plain Language:</h4><p class="text-gray-200">This is the bouncer for your app. It handles user accounts, checks their credentials, and decides what parts of the app they're allowed to see or use.</p></div></div><div class="lg:w-1/2 flex items-center justify-center flex-wrap gap-6"><i class="fab fa-google text-6xl text-red-500"></i><i class="fab fa-github text-6xl text-white"></i><i class="fab fa-apple text-6xl text-gray-400"></i><i class="fas fa-envelope text-6xl text-blue-400"></i><i class="fas fa-key text-6xl text-yellow-400"></i></div></div>`, notes: `Every app with users needs an authentication system. Building this securely is hard. Supabase Auth gives you this out of the box. You can easily add login with Google, GitHub, or just a simple email and password. It also has advanced features like passwordless magic links and multi-factor authentication. Crucially, it's tied directly to the database through something called Row Level Security, which lets you create very specific rules, like 'a user can only see their own data'.` },
            { content: `<div class="w-full h-full bg-gray-900 flex flex-col lg:flex-row p-8 gap-8 slide-content"><div class="lg:w-1/2"><h3 class="text-2xl font-bold mb-4"><i class="fas fa-satellite-dish mr-3 text-supabase-green"></i>Real-time Features</h3><p class="mb-4">Instantly push updates to connected users when your data changes. No need for users to refresh the page.</p><ul class="list-disc list-inside space-y-2 mb-6"><li>Listen for database changes (inserts, updates, deletes)</li><li>Broadcast messages to specific groups of users</li><li>Presence tracking to see who is online</li></ul><div class="non-tech-callout p-4 rounded-lg"><h4 class="font-bold text-white">In Plain Language:</h4><p class="text-gray-200">This lets your app update instantly for everyone at the same time. Think of a live chat app, a collaborative document, or a stock ticker. That's what real-time makes possible.</p></div></div><div class="lg:w-1/2 flex items-center justify-center"><img src="https://placehold.co/600x400/1f2937/ffffff?text=Database+->+Real-time+->+Users" alt="Real-time diagram" class="rounded-lg shadow-xl max-h-96"></div></div>`, notes: `This is the feature that originally inspired Supabase. The real-time engine listens to your database, and as soon as a change happens, it broadcasts that change to all connected clients. This is incredibly powerful for building modern, interactive applications. You can build chat features, live notifications, or anything that requires instant data synchronization with just a few lines of code.` },
            { content: `<div class="w-full h-full bg-gray-900 flex flex-col lg:flex-row p-8 gap-8 slide-content"><div class="lg:w-1/2"><h3 class="text-2xl font-bold mb-4"><i class="fas fa-folder-open mr-3 text-supabase-green"></i>Storage & CDN</h3><p class="mb-4">Store and serve large files like images, videos, and PDFs. It's built to be fast and secure.</p><ul class="list-disc list-inside space-y-2 mb-6"><li>S3-compatible, industry-standard interface</li><li>Fine-grained access control using database policies</li><li>On-the-fly image transformations (resizing, cropping)</li><li>Built-in CDN for fast global delivery</li></ul><div class="non-tech-callout p-4 rounded-lg"><h4 class="font-bold text-white">In Plain Language:</h4><p class="text-gray-200">A secure online locker for your app's files. It also has a delivery network that makes copies of your files around the world, so they load super fast for users no matter where they are.</p></div></div><div class="lg:w-1/2 flex items-center justify-center"><img src="https://placehold.co/600x400/1f2937/ffffff?text=User+Uploads+->+Supabase+Storage+->+Global+CDN" alt="Storage CDN diagram" class="rounded-lg shadow-xl max-h-96"></div></div>`, notes: `Most applications need to handle file uploads, like profile pictures or documents. Supabase Storage provides a simple and powerful solution for this. It's compatible with Amazon's S3, which is an industry standard. You can use the same database security rules to control who can upload, view, or delete files. The built-in CDN is a huge plus, as it dramatically improves performance for users around the globe.` },
            { content: `<div class="w-full h-full bg-gray-900 flex flex-col lg:flex-row p-8 gap-8 slide-content"><div class="lg:w-1/2"><h3 class="text-2xl font-bold mb-4"><i class="fas fa-bolt mr-3 text-supabase-green"></i>Edge Functions</h3><p class="mb-4">Run your own server-side code without managing a server. These functions are distributed globally for low latency.</p><ul class="list-disc list-inside space-y-2 mb-6"><li>Written in TypeScript/JavaScript using Deno</li><li>Deployed globally at "the edge" (close to users)</li><li>Perfect for webhooks, custom logic, or intensive tasks</li><li>Directly integrates with your database and auth</li></ul><div class="non-tech-callout p-4 rounded-lg"><h4 class="font-bold text-white">In Plain Language:</h4><p class="text-gray-200">Tiny, super-fast programs that run on-demand to handle small tasks. Because they run in data centers all over the world, they're always close to your users, making them incredibly quick.</p></div></div><div class="lg:w-1/2 flex items-center justify-center"><img src="https://placehold.co/600x400/1f2937/ffffff?text=User+Request+->+Edge+Function+->+Response" alt="Edge Functions diagram" class="rounded-lg shadow-xl max-h-96"></div></div>`, notes: `Sometimes you need to run some custom code on the backend—for example, to process a payment with Stripe or send a welcome email. Edge Functions are Supabase's solution for this. They are 'serverless', meaning you just write the code, and Supabase handles running it. The 'edge' part means they are deployed in multiple locations worldwide, so they execute very close to your users, which results in extremely low latency.` },
            { content: `<div class="w-full h-full bg-gray-900 flex flex-col lg:flex-row p-8 gap-8 slide-content"><div class="lg:w-1/2"><h3 class="text-2xl font-bold mb-4"><i class="fas fa-robot mr-3 text-supabase-green"></i>AI & Vector Support</h3><p class="mb-4">Integrate AI into your applications by storing and searching "vector embeddings".</p><ul class="list-disc list-inside space-y-2 mb-6"><li>Uses the <strong class="text-white">pgvector</strong> extension for PostgreSQL</li><li>Store numerical representations of text, images, etc.</li><li>Perform "similarity searches" to find related content</li><li>Integrations with OpenAI and Hugging Face models</li></ul><div class="non-tech-callout p-4 rounded-lg"><h4 class="font-bold text-white">In Plain Language:</h4><p class="text-gray-200">This gives your app a 'brain' to understand and search for things based on their meaning, not just exact keywords. It's the technology behind modern AI chatbots and recommendation engines.</p></div></div><div class="lg:w-1/2 flex items-center justify-center"><img src="https://placehold.co/600x400/1f2937/ffffff?text=AI+Models+<->+Vector+Database" alt="Vector Search diagram" class="rounded-lg shadow-xl max-h-96"></div></div>`, notes: `This is a more advanced but incredibly relevant feature today. AI models work with something called 'vector embeddings', which are basically numerical fingerprints of data. Supabase makes it easy to store these vectors in your database and perform powerful similarity searches. This allows you to build features like 'find me documents similar to this one' or power a Q&A bot with your own data.` },
            { content: `<div class="w-full h-full bg-gray-900 flex flex-col p-8 slide-content"><h2 class="text-3xl font-bold mb-6 text-supabase-green">How to Integrate It: The Basics</h2><p class="text-lg mb-6">Getting started is incredibly simple. You just need your Project URL and an 'anon' key.</p><div class="bg-gray-800 rounded-lg p-4"><pre class="text-sm text-white overflow-x-auto"><code class="language-javascript">// 1. Install the client library\nnpm install @supabase/supabase-js\n\n// 2. Import and create a client\nimport { createClient } from '@supabase/supabase-js'\n\nconst supabaseUrl = 'YOUR_SUPABASE_URL'\nconst supabaseKey = 'YOUR_SUPABASE_ANON_KEY'\n\nconst supabase = createClient(supabaseUrl, supabaseKey)\n\n// 3. Start querying your data!\nconst { data, error } = await supabase\n  .from('your_table_name')\n  .select('*')</code></pre></div><div class="mt-6 text-center text-gray-400"><p>You find these keys in your Supabase project's settings: <strong class="text-white">Project Settings > API</strong></p></div></div>`, notes: `Now for the practical part. How do you actually use this in your code? It's surprisingly easy. First, you install their JavaScript library. Then, in your app, you initialize the Supabase client using two pieces of information you get from your project dashboard: a URL and a special key. This key is the 'anon' key, which is safe to expose in your frontend code because your database is protected by Row Level Security policies. Once the client is initialized, you can start talking to your database, authenticating users, and uploading files.` },
            { content: `<div class="w-full h-full bg-gray-900 flex flex-col p-8 slide-content"><h2 class="text-3xl font-bold mb-6 text-supabase-green">MCP: Talking to Supabase with AI</h2><p class="text-lg mb-6">Supabase supports the <strong class="text-white">Model Context Protocol (MCP)</strong>, allowing AI tools to interact directly and safely with your project.</p><div class="non-tech-callout p-4 rounded-lg mb-6"><h4 class="font-bold text-white">In Plain Language:</h4><p class="text-gray-200">It's a special translator that lets AI coding assistants (like Cursor) understand your Supabase project. The AI can then help you design tables, write queries, and manage your backend just by you describing what you want in plain English.</p></div><div class="flex-grow flex items-center justify-center"><img src="https://placehold.co/800x450/1f2937/ffffff?text=AI+Assistant+(Windsurf)+->+MCP+->+Supabase" alt="MCP Diagram" class="max-w-full md:max-w-2xl rounded-lg shadow-xl"></div></div>`, notes: `This is a cutting-edge feature for those of you using AI-powered coding tools. MCP is a standard that lets these tools connect securely to your Supabase project. This means your AI assistant becomes 'schema-aware'—it knows what tables and columns you have. You can ask it to 'create a new table for user profiles with fields for name and email', and it can generate the correct code and even run the database migration for you. It's a huge productivity booster.` },
            { content: `<div class="w-full h-full bg-gray-900 flex flex-col p-8 slide-content"><h2 class="text-3xl font-bold mb-6 text-supabase-green">Easy Integrations</h2><p class="text-lg mb-6">Supabase plays well with many modern "vibe coding" platforms.</p><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"><div class="bg-gray-800 p-4 rounded-lg"><h4 class="font-bold text-white mb-2">Cursor</h4><p class="text-sm text-gray-400">Native MCP support for AI-assisted database management.</p></div><div class="bg-gray-800 p-4 rounded-lg"><h4 class="font-bold text-white mb-2">V0 by Vercel</h4><p class="text-sm text-gray-400">AI can generate UI and the necessary Supabase backend tables.</p></div><div class="bg-gray-800 p-4 rounded-lg"><h4 class="font-bold text-white mb-2">Lovable</h4><p class="text-sm text-gray-400">Native integration for building apps with automatic project knowledge.</p></div><div class="bg-gray-800 p-4 rounded-lg"><h4 class="font-bold text-white mb-2">Replit</h4><p class="text-sm text-gray-400">Easy setup using environment variables for quick prototyping.</p></div><div class="bg-gray-800 p-4 rounded-lg"><h4 class="font-bold text-white mb-2">WeWeb (No-Code)</h4><p class="text-sm text-gray-400">Visually build frontends that connect directly to Supabase.</p></div><div class="bg-gray-800 p-4 rounded-lg"><h4 class="font-bold text-white mb-2">BuildShip (Low-Code)</h4><p class="text-sm text-gray-400">Create visual workflows and cloud functions for your Supabase backend.</p></div></div></div>`, notes: `Because Supabase is built on open standards and has a great developer experience, it integrates really well with the new wave of development tools. Platforms like Cursor can talk to it directly using MCP. Vercel's v0 can scaffold a frontend and tell you what Supabase tables you need to create. And no-code/low-code platforms like WeWeb and BuildShip have native connectors, making it incredibly fast to build a full-stack application.` },
            { content: `<div class="w-full h-full bg-gray-900 flex flex-col p-8 slide-content"><h2 class="text-3xl font-bold mb-6 text-supabase-green">Pricing: Generous Free Tier</h2><p class="text-lg mb-6">Supabase is famous for its free plan, which is powerful enough for many projects.</p><div class="bg-gray-800 rounded-lg p-6 shadow-lg"><h3 class="text-xl font-bold text-white mb-4">Free Plan ($0/month)</h3><ul class="grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-300"><li class="flex items-center"><i class="fas fa-check-circle text-supabase-green mr-3"></i>2 Active Projects</li><li class="flex items-center"><i class="fas fa-check-circle text-supabase-green mr-3"></i>500 MB Database</li><li class="flex items-center"><i class="fas fa-check-circle text-supabase-green mr-3"></i>1 GB File Storage</li><li class="flex items-center"><i class="fas fa-check-circle text-supabase-green mr-3"></i>50,000 Monthly Active Users</li><li class="flex items-center"><i class="fas fa-check-circle text-supabase-green mr-3"></i>500k Edge Function calls</li><li class="flex items-center"><i class="fas fa-check-circle text-supabase-green mr-3"></i>Unlimited API Requests</li></ul><p class="text-sm text-gray-500 mt-4">*Projects are paused after 1 week of inactivity on the free plan, but can be restored.</p></div><div class="non-tech-callout p-4 rounded-lg mt-6"><h4 class="font-bold text-white">In Plain Language:</h4><p class="text-gray-200">You can build and launch a real application, serving thousands of users, without ever paying a dime. It's perfect for learning, personal projects, and startups.</p></div></div>`, notes: `Let's talk about cost. This is one of Supabase's biggest selling points. The free tier is not just a trial; it's a permanently free plan with very generous limits. You can have two projects, a decent amount of database and file storage, and support for up to 50,000 monthly active users. The only major caveat is that if your project isn't used for a week, it gets paused. But you can un-pause it with a single click.` },
            { content: `<div class="w-full h-full bg-gray-900 flex flex-col p-8 slide-content"><h2 class="text-3xl font-bold mb-6 text-supabase-green">Paid Plans: Scaling Up</h2><p class="text-lg mb-6">When your project grows, you can move to a paid plan for more resources and features.</p><div class="flex flex-col md:flex-row gap-6"><div class="bg-gray-800 rounded-lg p-6 shadow-lg flex-1"><h3 class="text-xl font-bold text-white mb-4">Pro Plan</h3><p class="text-3xl font-bold mb-4">$25 <span class="text-base font-normal">/ month</span></p><ul class="space-y-2 text-sm text-gray-300"><li>No project pausing</li><li>8 GB Database</li><li>100 GB File Storage</li><li>Daily backups</li><li>Email support</li></ul></div><div class="bg-gray-800 rounded-lg p-6 shadow-lg flex-1"><h3 class="text-xl font-bold text-white mb-4">Team Plan</h3><p class="text-3xl font-bold mb-4">$599 <span class="text-base font-normal">/ month</span></p><ul class="space-y-2 text-sm text-gray-300"><li>Everything in Pro, plus:</li><li>SOC2 Compliance</li><li>SSO for dashboard login</li><li>Priority support & SLAs</li><li>14-day backups</li></ul></div></div><p class="text-center mt-6 text-gray-400">Pay-as-you-go for usage beyond the plan limits. Custom Enterprise plans are also available.</p></div>`, notes: `When you're ready to scale, the Pro plan is the next step. For $25 a month, your project will never be paused, and you get a big jump in resources, plus features like daily backups and email support. This is the plan most production applications will use. The Team plan is for larger businesses with stricter security and support requirements. The key takeaway is that the pricing scales fairly with your project's needs.` },
            { content: `<div class="w-full h-full bg-gray-900 flex flex-col p-8 slide-content"><h2 class="text-3xl font-bold mb-6 text-supabase-green">Alternatives to Supabase</h2><p class="text-lg mb-6">Supabase is great, but it's important to know the other players in the space.</p><div class="space-y-4"><div class="bg-gray-800 p-4 rounded-lg"><h4 class="font-bold text-white">Firebase (Google)</h4><p class="text-sm text-gray-400">The original BaaS. Mature, great for mobile, but uses NoSQL and is closed-source (vendor lock-in).</p></div><div class="bg-gray-800 p-4 rounded-lg"><h4 class="font-bold text-white">Appwrite</h4><p class="text-sm text-gray-400">Another open-source alternative. Very developer-friendly, but a smaller ecosystem and also NoSQL-based.</p></div><div class="bg-gray-800 p-4 rounded-lg"><h4 class="font-bold text-white">Neon / PlanetScale</h4><p class="text-sm text-gray-400">These are "serverless databases" (Postgres/MySQL). They offer just the database part, not the whole backend suite like Auth or Storage.</p></div><div class="bg-gray-800 p-4 rounded-lg"><h4 class="font-bold text-white">Hasura</h4><p class="text-sm text-gray-400">Focuses on providing an instant GraphQL API on top of your existing database. More of a component than a full BaaS.</p></div></div></div>`, notes: `Supabase isn't the only option. Its main competitor is Firebase, which is a fantastic product from Google but has the downside of being a proprietary, closed system. Appwrite is another open-source competitor that is also very popular. Then you have services like Neon and PlanetScale, which are laser-focused on providing a serverless database but don't include the other backend services. The right choice depends on your specific needs, but Supabase hits a sweet spot by bundling all the essential services together in an open-source package.` },
            { content: `<div class="w-full h-full bg-gray-900 flex flex-col p-8 slide-content"><h2 class="text-3xl font-bold mb-6 text-supabase-green">Is Supabase Right for You?</h2><div class="flex flex-col md:flex-row gap-8"><div class="flex-1"><h3 class="text-2xl font-bold text-green-400 mb-4">Pros <i class="fas fa-thumbs-up"></i></h3><ul class="space-y-2"><li class="flex items-start"><i class="fas fa-check text-green-400 mt-1 mr-3"></i><div><strong class="text-white">Open Source:</strong> No vendor lock-in. You can self-host.</div></li><li class="flex items-start"><i class="fas fa-check text-green-400 mt-1 mr-3"></i><div><strong class="text-white">SQL Power:</strong> Full relational database capabilities.</div></li><li class="flex items-start"><i class="fas fa-check text-green-400 mt-1 mr-3"></i><div><strong class="text-white">All-in-One:</strong> Database, Auth, Storage, Functions in one platform.</div></li><li class="flex items-start"><i class="fas fa-check text-green-400 mt-1 mr-3"></i><div><strong class="text-white">Great DX:</strong> Excellent documentation and easy-to-use tools.</div></li><li class="flex items-start"><i class="fas fa-check text-green-400 mt-1 mr-3"></i><div><strong class="text-white">Generous Free Tier:</strong> Perfect for starting out.</div></li></ul></div><div class="flex-1"><h3 class="text-2xl font-bold text-red-400 mb-4">Cons <i class="fas fa-thumbs-down"></i></h3><ul class="space-y-2"><li class="flex items-start"><i class="fas fa-times text-red-400 mt-1 mr-3"></i><div><strong class="text-white">Learning Curve:</strong> SQL can be harder than NoSQL for absolute beginners.</div></li><li class="flex items-start"><i class="fas fa-times text-red-400 mt-1 mr-3"></i><div><strong class="text-white">Still Maturing:</strong> Some features are newer and less battle-tested than Firebase's.</div></li><li class="flex items-start"><i class="fas fa-times text-red-400 mt-1 mr-3"></i><div><strong class="text-white">Scaling Complexity:</strong> Scaling a SQL database can require more expertise.</div></li></ul></div></div></div>`, notes: `So, to wrap it all up. The biggest pros for Supabase are that it's open-source, it gives you the power of a real SQL database, it's an all-in-one solution, and it's incredibly developer-friendly with a great free tier. The potential downsides are that if you're completely new to databases, SQL might have a slightly steeper learning curve than a simple NoSQL store. And while it's growing incredibly fast, it's a younger platform than Firebase, so some of its more advanced features are still maturing.` },
            { content: `<div class="w-full h-full bg-gray-900 flex flex-col justify-center items-center p-8 text-center"><h1 class="text-6xl font-bold text-white mb-8">Questions?</h1><p class="text-2xl text-supabase-green mb-12">Thank You!</p><div class="text-lg text-gray-300"><p>Find out more at:</p><a href="https://supabase.com" target="_blank" class="text-blue-400 hover:underline">supabase.com</a></div></div>`, notes: `That's my overview of Supabase. It's a really exciting platform that empowers developers to build powerful applications faster than ever before. Thank you for your time, and I'd be happy to answer any questions you might have.`}
        ];
        const toggleNotesBtn = document.getElementById('toggle-notes-btn');
        const narratorNotesContainer = document.getElementById('narrator-notes-container');
        
        if(toggleNotesBtn) {
            toggleNotesBtn.addEventListener('click', () => {
                narratorNotesContainer.classList.toggle('hidden');
            });
        }

        let currentSlide = 0;
        const slideContainer = document.getElementById('slide-container');
        const notesEl = document.getElementById('notes');
        const prevButton = document.getElementById('prev');
        const nextButton = document.getElementById('next');
        const slideCounter = document.getElementById('slide-counter');

        function renderSlide() {
            if (!slideContainer) return;
            const slideData = slides[currentSlide];
            slideContainer.innerHTML = `<div class="slide active p-4 md:p-8">${slideData.content}</div>`;
            notesEl.textContent = slideData.notes;
            prevButton.disabled = currentSlide === 0;
            nextButton.disabled = currentSlide === slides.length - 1;
            slideCounter.textContent = `Slide ${currentSlide + 1} of ${slides.length}`;
        }
        if(prevButton) {
            prevButton.addEventListener('click', () => { if (currentSlide > 0) { currentSlide--; renderSlide(); } });
            nextButton.addEventListener('click', () => { if (currentSlide < slides.length - 1) { currentSlide++; renderSlide(); } });
            renderSlide();
        }


        // --- DEMO LOGIC ---
        const SUPABASE_URL = ''; // PASTE YOUR PROJECT URL HERE
        const SUPABASE_ANON_KEY = ''; // PASTE YOUR ANON KEY HERE

        const promptInput = document.getElementById('prompt-input');
        const addPromptBtn = document.getElementById('add-prompt-btn');
        const promoteBtn = document.getElementById('promote-step-2-btn');
        const promoteBtn3 = document.getElementById('promote-step-3-btn');
        const promptsTableBody = document.getElementById('prompts-table-body');
        const loadingState = document.getElementById('loading-state');
        const statusMessage = document.getElementById('status-message');
        const statusContainer = document.getElementById('status-container');
        const statusSelect = document.getElementById('status-select');
        const statusHeader = document.getElementById('status-header');
        const actionsHeader = document.getElementById('actions-header');
        const step1Instructions = document.getElementById('step-1-instructions');
        const step2Instructions = document.getElementById('step-2-instructions');
        const step3Instructions = document.getElementById('step-3-instructions');
        
        let isStep2Active = false;
        let isStep3Active = false;
        let supabase = null;

        if (!SUPABASE_URL || !SUPABASE_ANON_KEY) {
            if(loadingState) loadingState.innerHTML = `<td colspan="5" class="text-center p-8 text-yellow-400"><i class="fas fa-exclamation-triangle mr-2"></i> Please add your Supabase URL and Anon Key to the script to activate the demo.</td>`;
        } else {
            supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
            if(addPromptBtn) addPromptBtn.disabled = false;
            if(promoteBtn) promoteBtn.disabled = false;
            if(promoteBtn3) promoteBtn3.disabled = false;
            if(loadingState) loadingState.innerHTML = `<td colspan="5" class="text-center p-8 text-gray-500"><i class="fas fa-spinner fa-spin mr-2"></i> Connected! Fetching initial data...</td>`;

            if(addPromptBtn) addPromptBtn.addEventListener('click', handleAddPrompt);
            if(promoteBtn) promoteBtn.addEventListener('click', handlePromoteToStep2);
            if(promoteBtn3) promoteBtn3.addEventListener('click', handlePromoteToStep3);
            if(promptsTableBody) promptsTableBody.addEventListener('click', handleTableClick);
            
            // Initial data fetch and subscription setup
            fetchInitialData();
            const channel = supabase.channel('prompts_realtime');
            channel.on('postgres_changes', { event: '*', schema: 'public', table: 'prompts' }, (payload) => { console.log('Change received!', payload); fetchInitialData(); })
                   .subscribe((status) => { if (status === 'SUBSCRIBED') { console.log('Real-time channel subscribed!'); } });
        }

        async function handleAddPrompt() {
            const promptText = promptInput.value.trim();
            if (promptText) {
                let dataToInsert = { prompt_text: promptText };
                if (isStep2Active) { dataToInsert.status = statusSelect.value; }
                const { error } = await supabase.from('prompts').insert([dataToInsert]); 
                if (error) { console.error('Error inserting data:', error); showStatus(`Error: ${error.message}`, 'red'); } 
                else { promptInput.value = ''; showStatus('Added successfully!', 'green'); }
            }
        }

        function handlePromoteToStep2() {
            isStep2Active = true;
            statusContainer.style.display = 'block';
            statusHeader.style.display = 'table-cell';
            step1Instructions.style.display = 'none';
            step2Instructions.style.display = 'block';
            promoteBtn.disabled = true;
            promoteBtn.classList.replace('bg-indigo-600', 'bg-gray-600');
            promoteBtn.classList.replace('hover:bg-indigo-700', 'cursor-not-allowed');
            promoteBtn.innerHTML = `<i class="fas fa-check mr-2"></i> Step 2 Activated`;
            fetchInitialData();
        }

        function handlePromoteToStep3() {
            isStep3Active = true;
            actionsHeader.style.display = 'table-cell';
            step2Instructions.style.display = 'none';
            step3Instructions.style.display = 'block';
            promoteBtn3.disabled = true;
            promoteBtn3.classList.replace('bg-red-600', 'bg-gray-600');
            promoteBtn3.classList.replace('hover:bg-red-700', 'cursor-not-allowed');
            promoteBtn3.innerHTML = `<i class="fas fa-check mr-2"></i> Step 3 Activated`;
            fetchInitialData();
        }
        
        function handleTableClick(event) {
            const deleteButton = event.target.closest('.delete-btn');
            if (deleteButton && isStep3Active) {
                const idToDelete = deleteButton.dataset.id;
                if (idToDelete) {
                    handleDeletePrompt(idToDelete);
                }
            }
        }

        async function handleDeletePrompt(id) {
            const { error } = await supabase.from('prompts').delete().eq('id', id);
            if (error) {
                console.error('Error deleting data:', error);
                showStatus(`Error: ${error.message}`, 'red');
            } else {
                showStatus('Record deleted successfully!', 'green');
            }
        }

        async function fetchInitialData() {
            if (!supabase) return;
            const { data: prompts, error } = await supabase.from('prompts').select('*').order('created_at', { ascending: false });
            if (error) { console.error('Error fetching initial data:', error); if(loadingState) loadingState.innerHTML = `<td colspan="5" class="text-center p-8 text-red-500"><i class="fas fa-exclamation-triangle mr-2"></i> Error fetching data. Is your table created and RLS enabled?</td>`; } 
            else { renderTable(prompts); }
        }
            
        function renderTable(prompts) {
            if(!promptsTableBody) return;
            promptsTableBody.innerHTML = ''; 
            if (!prompts || prompts.length === 0) {
                promptsTableBody.innerHTML = `<tr><td colspan="5" class="text-center p-8 text-gray-500">No prompts yet. Add one from the admin panel!</td></tr>`;
            } else {
                prompts.forEach((prompt, index) => {
                    const tr = document.createElement('tr');
                    tr.className = 'border-b border-gray-700 hover:bg-gray-700/50';
                    if (index === 0 && new Date(prompt.created_at) > Date.now() - 5000) { tr.classList.add('new-row-animation'); }
                    
                    const formattedDate = new Date(prompt.created_at).toLocaleString();
                    const statusCell = isStep2Active ? `<td class="px-6 py-4">${renderStatusBadge(prompt.status)}</td>` : '';
                    const actionsCell = isStep3Active ? `<td class="px-6 py-4 text-center"><button class="delete-btn" data-id="${prompt.id}"><i class="fas fa-trash-can"></i></button></td>` : '';
                    
                    tr.innerHTML = `
                        <td class="px-6 py-4 font-mono text-gray-500 text-xs">${prompt.id}</td>
                        <td class="px-6 py-4 text-white">${prompt.prompt_text}</td>
                        ${statusCell}
                        <td class="px-6 py-4 text-gray-400">${formattedDate}</td>
                        ${actionsCell}
                    `;
                    
                    promptsTableBody.appendChild(tr);
                });
            }
        }
        
        function renderStatusBadge(status) {
            if (!status) return `<span class="text-gray-500">N/A</span>`;
            let colorClasses = 'bg-gray-700 text-gray-300';
            if (status === 'in_progress') colorClasses = 'bg-yellow-600 text-yellow-100';
            if (status === 'completed') colorClasses = 'bg-green-600 text-green-100';
            return `<span class="status-badge ${colorClasses}">${status}</span>`;
        }

        function showStatus(message, color) {
            if(!statusMessage) return;
            statusMessage.textContent = message;
            statusMessage.className = `text-center font-semibold transition-opacity duration-500 h-5 text-${color}-400`;
            statusMessage.style.opacity = '1';
            setTimeout(() => { statusMessage.style.opacity = '0'; }, 3000);
        }

        // Initial setup on script load
        showTab('presentation');
    </script>
</body>
</html>
