<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supabase & Windsurf Presentation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827;
        }
        .slide {
            display: none;
            height: 100%;
        }
        .slide.active {
            display: flex;
        }
        .narrator-notes {
            background-color: #1f2937;
            border: 1px solid #374151;
        }
        .non-tech-callout {
            background-color: #1e40af;
            border-left: 4px solid #3b82f6;
        }
        .supabase-green { color: #3ecf8e; }
        .slide-content {
            flex-grow: 1;
            overflow-y: auto;
        }
        .slide-content::-webkit-scrollbar { width: 8px; }
        .slide-content::-webkit-scrollbar-track { background: #1f2937; }
        .slide-content::-webkit-scrollbar-thumb { background-color: #4b5563; border-radius: 10px; border: 2px solid #1f2937; }
    </style>
</head>
<body class="text-gray-200">

    <div class="max-w-7xl mx-auto p-4">
        <div class="flex flex-col" style="height: calc(100vh - 40px);">
            <div id="slide-container" class="flex-grow bg-gray-900 rounded-lg shadow-2xl overflow-hidden min-h-0"></div>
            <div class="flex-shrink-0">
                <!-- Notes panel, hidden by default -->
                <div id="narrator-notes-container" class="narrator-notes p-4 mt-4 rounded-lg shadow-lg hidden">
                    <h3 class="font-bold text-lg mb-2 text-supabase-green">Narrator Notes</h3>
                    <p id="notes" class="text-gray-300 text-sm max-h-24 overflow-y-auto">Loading notes...</p>
                </div>

                <!-- Control bar -->
                <div class="flex items-center justify-between p-2 bg-gray-800 mt-4 rounded-lg">
                     <div class="text-sm text-gray-400 w-28"><span id="slide-counter"></span></div>
                    <div class="flex items-center space-x-4">
                        <button id="prev" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"><i class="fas fa-arrow-left mr-2"></i>Prev</button>
                        <button id="next" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed">Next<i class="fas fa-arrow-right ml-2"></i></button>
                    </div>
                    <div class="w-28 flex justify-end">
                         <button id="toggle-notes-btn" title="Toggle Narrator Notes" class="text-gray-400 hover:text-white transition-colors p-2 rounded-md">
                            <i class="fas fa-note-sticky text-xl"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="module">
        // --- PRESENTATION LOGIC ---
        const slides = [
            {
                content: `<div class="w-full h-full bg-gray-900 flex flex-col justify-center items-center p-8 text-center"><img src="https://supabase.com/docs/img/supabase-logo-wordmark--dark.svg" alt="Supabase Logo" class="w-72 mb-8"><h1 class="text-5xl font-bold text-white mb-4">Building a Newsletter App with Supabase & Windsurf</h1><p class="text-2xl text-gray-400">A Step-by-Step Guide</p></div>`,
                notes: `Welcome! In this presentation, we'll walk through the practical steps of building a real-world application using the powerful combination of Supabase for our backend and Windsurf as our AI development environment.`
            },
            {
                content: `<div class="w-full h-full bg-gray-900 flex flex-col p-8 slide-content"><h2 class="text-3xl font-bold mb-6 text-supabase-green">Step 1: Create a Supabase Account</h2><div class="space-y-4 text-lg"><p class="flex items-start"><span class="font-bold text-blue-400 mr-3">1.</span> Go to <a href='https://supabase.com' target='_blank' class='text-blue-400 underline'>supabase.com</a>.</p><p class="flex items-start"><span class="font-bold text-blue-400 mr-3">2.</span> Click on "Start your project".</p><p class="flex items-start"><span class="font-bold text-blue-400 mr-3">3.</span> Sign up using your GitHub account (recommended) or email.</p><p class="flex items-start"><span class="font-bold text-blue-400 mr-3">4.</span> Authorize the application and complete the sign-up process.</p></div><div class="flex-grow flex items-center justify-center mt-6"><img src="https://placehold.co/800x400/1f2937/ffffff?text=Supabase+Sign-Up+Page" alt="Supabase Signup" class="rounded-lg shadow-xl"></div></div>`,
                notes: `First things first, we need a Supabase account. It's completely free to start, and the process is very straightforward. Using your GitHub account is the quickest way to get up and running.`
            },
            {
                content: `<div class="w-full h-full bg-gray-900 flex flex-col p-8 slide-content"><h2 class="text-3xl font-bold mb-6 text-supabase-green">Step 2: Create a Supabase Project</h2><div class="space-y-4 text-lg"><p class="flex items-start"><span class="font-bold text-blue-400 mr-3">1.</span> From your Supabase dashboard, click "New project".</p><p class="flex items-start"><span class="font-bold text-blue-400 mr-3">2.</span> Name your project <strong class='text-white'>vibecodecircle</strong>.</p><p class="flex items-start"><span class="font-bold text-blue-400 mr-3">3.</span> Generate a secure database password and save it somewhere safe.</p><p class="flex items-start"><span class="font-bold text-blue-400 mr-3">4.</span> Choose a region closest to your users for the best performance.</p><p class="flex items-start"><span class="font-bold text-blue-400 mr-3">5.</span> Click "Create new project". It will take a minute or two to provision.</p></div><div class="flex-grow flex items-center justify-center mt-6"><img src="https://placehold.co/800x400/1f2937/ffffff?text=New+Project:+vibecodecircle" alt="New Supabase Project" class="rounded-lg shadow-xl"></div></div>`,
                notes: `Once you're logged in, you can create a new project. This will be the dedicated backend for our newsletter application. Naming it 'vibecodecircle' keeps it organized. Remember to store the database password securely.`
            },
            {
                content: `<div class="w-full h-full bg-gray-900 flex flex-col p-8 slide-content"><h2 class="text-3xl font-bold mb-6 text-supabase-green">Step 3: Set up MCP in Windsurf</h2><div class="space-y-4 text-lg"><p class="flex items-start"><span class="font-bold text-blue-400 mr-3">1.</span> In Supabase, create a Personal Access Token (PAT) at <a href='https://database.new/tokens' target='_blank' class='text-blue-400 underline'>database.new/tokens</a>. Copy this token.</p><p class="flex items-start"><span class="font-bold text-blue-400 mr-3">2.</span> In your 'vibecodecircle' project, go to <strong class='text-white'>Settings > General</strong> and copy the Project Reference ID.</p><p class="flex items-start"><span class="font-bold text-blue-400 mr-3">3.</span> In Windsurf, open the command palette and run <strong class='text-white'>"Connect to a new MCP server"</strong>.</p><p class="flex items-start"><span class="font-bold text-blue-400 mr-3">4.</span> Choose "Supabase" and provide the Project Reference ID and your Personal Access Token when prompted.</p><p class="flex items-start mt-4"><i class="fas fa-info-circle text-blue-400 mr-3 mt-1"></i>For more details, visit the <a href='https://supabase.com/docs/guides/getting-started/mcp' target='_blank' class='text-blue-400 underline'>official Supabase MCP docs</a>.</p></div></div>`,
                notes: `Now we connect our backend to our AI development environment. This involves creating a secure access token in Supabase and then using that, along with our Project's unique ID, to authorize Windsurf to interact with our project.`
            },
            {
                content: `<div class="w-full h-full bg-gray-900 flex flex-col p-8 slide-content"><h2 class="text-3xl font-bold mb-6 text-supabase-green">Step 4: Prompting Windsurf to Build</h2><p class="text-lg mb-4">With Windsurf connected, we use a detailed prompt to generate the entire application, including the database schema.</p><div class="bg-gray-800 p-3 rounded-lg text-gray-200 text-xs overflow-auto"><p><strong>Objective:</strong> Create a new page called "Newsletter Signup" with a complete, production-ready frontend and backend, using the connected Supabase project via MCP.<br><br><strong>Database Schema (to be created in Supabase):</strong><br>1. <strong>\`subscribers\` table:</strong><br>   - \`id\`: Primary Key, bigserial.<br>   - \`name\`: Text, not null.<br>   - \`email\`: Text, unique, not null.<br>   - \`created_at\`: timestamptz, default now().<br>   - \`referrer_id\`: UUID, foreign key referencing auth.users(id).<br>2. <strong>\`profiles\` table modification:</strong><br>   - Ensure a \`profiles\` table exists linked to \`auth.users\` via a one-to-one relationship.<br>   - Add a \`referral_credit\` column: Integer, default 0, not null.<br><br><strong>Styling & Structure Rules:</strong><br>1. Use the 'Satoshi' font family.<br>2. All CSS classes must use namespaced BEM with a 'newsletter-' prefix (e.g., .newsletter-form__input).<br>3. Define and use a semantic color palette with CSS custom properties (e.g., --newsletter-color-brand).<br>4. All JavaScript must be vanilla JS.<br><br><strong>Functional Requirements:</strong><br>1. Create a form to collect name and email.<br>2. On submit, \`INSERT\` the user into the "subscribers" table.<br>3. Provide an unsubscribe method that will \`DELETE\` a user from the table.<br>4. Implement a referral system: A logged-in user can invite someone via email. When the invitee signs up via a unique referral link, their \`referrer_id\` is recorded. After the new user is inserted, \`UPDATE\` the referring user's \`referral_credit\` in their profile by incrementing it by 1.</p></div></div>`,
                notes: `This is the key step. We are giving Windsurf a very explicit blueprint. By defining the exact database schema, including column types and foreign keys, we ensure the AI generates the correct backend infrastructure from the start. This detailed approach leads to a much more accurate and robust final product.`
            },
            {
                content: `<div class="w-full h-full bg-gray-900 flex flex-col p-8 slide-content"><h2 class="text-3xl font-bold mb-6 text-supabase-green">Database Creation & Seeding</h2><p class="text-lg mb-4">Based on the previous prompt, Windsurf will create the necessary tables and columns in your Supabase project.</p><p class="text-lg mb-4">Next, we can ask Windsurf to populate it with test data using another simple prompt:</p><div class="bg-gray-800 p-4 rounded-lg text-gray-200 text-sm"><p>'Populate the "subscribers" table with 10 rows of realistic test data.'</p></div><div class="flex-grow flex items-center justify-center mt-6"><img src="https://placehold.co/800x300/1f2937/ffffff?text=Supabase+subscribers+Table" alt="Subscribers Table" class="rounded-lg shadow-xl"></div></div>`,
                notes: `Windsurf parses our prompt and infers the necessary database schema. It knows a 'subscribers' table is required and will create it. We can then immediately follow up by asking it to generate realistic placeholder data, which is incredibly useful for development and testing.`
            },
            {
                content: `<div class="w-full h-full bg-gray-900 flex flex-col p-8 slide-content"><h2 class="text-3xl font-bold mb-6 text-supabase-green">Handling Sign-ups & Unsubscribes</h2><p class="text-lg mb-4">Windsurf will generate the backend logic for these actions:</p><div class="space-y-4 text-lg"><p class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-3 mt-1"></i><strong class="text-white mr-2">Sign-up:</strong> The form submission triggers an API call that executes an <code class='bg-gray-700 px-2 py-1 rounded'>INSERT</code> command into the <code class='bg-gray-700 px-2 py-1 rounded'>subscribers</code> table.</p><p class="flex items-start"><i class="fas fa-times-circle text-red-500 mr-3 mt-1"></i><strong class="text-white mr-2">Unsubscribe:</strong> A unique link (usually in a newsletter email) will point to a page or an API endpoint that takes the user's email or ID and executes a <code class='bg-gray-700 px-2 py-1 rounded'>DELETE</code> command from the <code class='bg-gray-700 px-2 py-1 rounded'>subscribers</code> table.</p></div></div>`,
                notes: `Here's a breakdown of the logic Windsurf creates. For sign-ups, it's a simple database insertion. For unsubscribes, it's a deletion. The key is that Windsurf generates both the frontend UI and the backend API calls to make this work seamlessly.`
            },
            {
                content: `<div class="w-full h-full bg-gray-900 flex flex-col p-8 slide-content"><h2 class="text-3xl font-bold mb-6 text-supabase-green">Implementing the Referral System</h2><p class="text-lg mb-4">The referral system requires more complex logic and schema changes, which Windsurf also handles:</p><div class="space-y-4 text-lg"><p class="flex items-start"><i class="fas fa-database text-blue-400 mr-3 mt-1"></i><strong class="text-white mr-2">Schema Change:</strong> Windsurf will suggest adding a <code class='bg-gray-700 px-2 py-1 rounded'>referral_credit</code> column (likely an integer) to your existing <code class='bg-gray-700 px-2 py-1 rounded'>users</code> or <code class='bg-gray-700 px-2 py-1 rounded'>profiles</code> table.</p><p class="flex items-start"><i class="fas fa-share-square text-blue-400 mr-3 mt-1"></i><strong class="text-white mr-2">Referral Logic:</strong> When a user signs up via a referral link, the application will:<br><span class="ml-8">1. Add the new user to the <code class='bg-gray-700 px-2 py-1 rounded'>subscribers</code> table.</span><br><span class="ml-8">2. Identify the referring user from the link.</span><br><span class="ml-8">3. Execute an <code class='bg-gray-700 px-2 py-1 rounded'>UPDATE</code> command to increment the <code class='bg-gray-700 px-2 py-1 rounded'>referral_credit</code> for the original user.</span></p></div></div>`,
                notes: `The referral system is a great example of a more advanced feature. Windsurf understands that this requires a change to our user data model. It will prompt to add a new column for tracking credits. Then, it will create the logic to connect a new sign-up to the person who referred them and update their credit count accordingly.`
            },
            {
                content: `<div class="w-full h-full bg-gray-900 flex flex-col justify-center items-center p-8 text-center"><h1 class="text-6xl font-bold text-white mb-8">Questions?</h1></div>`,
                notes: `And that's how you can go from an idea to a fully functional application with a database, authentication, and business logic in a fraction of the time. Thank you, and I'm happy to answer any questions.`
            }
        ];
        
        const toggleNotesBtn = document.getElementById('toggle-notes-btn');
        const narratorNotesContainer = document.getElementById('narrator-notes-container');
        
        if(toggleNotesBtn) {
            toggleNotesBtn.addEventListener('click', () => {
                narratorNotesContainer.classList.toggle('hidden');
            });
        }

        let currentSlide = 0;
        const slideContainer = document.getElementById('slide-container');
        const notesEl = document.getElementById('notes');
        const prevButton = document.getElementById('prev');
        const nextButton = document.getElementById('next');
        const slideCounter = document.getElementById('slide-counter');

        function renderSlide() {
            if (!slideContainer) return;
            const slideData = slides[currentSlide];
            slideContainer.innerHTML = `<div class="slide active p-4 md:p-8">${slideData.content}</div>`;
            notesEl.textContent = slideData.notes;
            prevButton.disabled = currentSlide === 0;
            nextButton.disabled = currentSlide === slides.length - 1;
            slideCounter.textContent = `Slide ${currentSlide + 1} of ${slides.length}`;
        }
        if(prevButton) {
            prevButton.addEventListener('click', () => { if (currentSlide > 0) { currentSlide--; renderSlide(); } });
            nextButton.addEventListener('click', () => { if (currentSlide < slides.length - 1) { currentSlide++; renderSlide(); } });
            renderSlide();
        }
    </script>
</body>
</html>
